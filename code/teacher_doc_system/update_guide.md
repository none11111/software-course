# æ•™å¸ˆæ–‡æ¡£ç®¡ç†ç³»ç»Ÿ - ä»£ç æ›´æ–°æŒ‡å—

## ğŸ”„ æ›´æ–°æµç¨‹æ¦‚è¿°

å½“æ‚¨è·å¾—æ–°ç‰ˆæœ¬çš„ä»£ç zipæ–‡ä»¶æ—¶ï¼Œè¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤å®‰å…¨åœ°æ›´æ–°ç³»ç»Ÿï¼š

## ğŸ“‹ æ›´æ–°å‰å‡†å¤‡

### 1. å¤‡ä»½å½“å‰ç³»ç»Ÿ
```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd teacher_doc_system

# åˆ›å»ºå®Œæ•´å¤‡ä»½
python system/simple_backup.py
```

### 2. è®°å½•å½“å‰é…ç½®
- æ•°æ®åº“é…ç½®ä¿¡æ¯
- ç®¡ç†å‘˜è´¦å·å¯†ç 
- ç³»ç»Ÿè®¾ç½®å‚æ•°

## ğŸš€ è‡ªåŠ¨æ›´æ–°ï¼ˆæ¨èï¼‰

### ä½¿ç”¨æ›´æ–°è„šæœ¬
```bash
# å°†æ–°ç‰ˆæœ¬zipæ–‡ä»¶æ”¾åœ¨é¡¹ç›®æ ¹ç›®å½•
python update_system.py new_version.zip
```

### æ›´æ–°è„šæœ¬åŠŸèƒ½
- âœ… è‡ªåŠ¨å¤‡ä»½æ•°æ®åº“å’Œæ–‡ä»¶
- âœ… å®‰å…¨æ›´æ–°ä»£ç æ–‡ä»¶
- âœ… ä¿ç•™ç”¨æˆ·æ•°æ®å’Œé…ç½®
- âœ… è‡ªåŠ¨è¿è¡Œæ•°æ®åº“è¿ç§»
- âœ… æ”¶é›†é™æ€æ–‡ä»¶
- âœ… æ¸…ç†ä¸´æ—¶æ–‡ä»¶

## ğŸ”§ æ‰‹åŠ¨æ›´æ–°æ­¥éª¤

å¦‚æœè‡ªåŠ¨æ›´æ–°å¤±è´¥ï¼Œå¯ä»¥æ‰‹åŠ¨æ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š

### 1. åˆ›å»ºå¤‡ä»½
```bash
# å¤‡ä»½æ•°æ®åº“
mysqldump -u root -p teacher_doc_system > backup_$(date +%Y%m%d_%H%M%S).sql

# å¤‡ä»½åª’ä½“æ–‡ä»¶
cp -r media/user_files media/user_files_backup_$(date +%Y%m%d_%H%M%S)
```

### 2. è§£å‹æ–°ç‰ˆæœ¬
```bash
# åˆ›å»ºä¸´æ—¶ç›®å½•
mkdir temp_update
cd temp_update

# è§£å‹æ–°ç‰ˆæœ¬
unzip ../new_version.zip
```

### 3. æ›´æ–°æ–‡ä»¶
```bash
# éœ€è¦ä¿ç•™çš„æ–‡ä»¶/ç›®å½•
# - media/user_files/ (ç”¨æˆ·ä¸Šä¼ çš„æ–‡ä»¶)
# - media/backups/ (å¤‡ä»½æ–‡ä»¶)
# - logs/ (æ—¥å¿—æ–‡ä»¶)
# - .env (ç¯å¢ƒé…ç½®)
# - db.sqlite3 (SQLiteæ•°æ®åº“ï¼Œå¦‚æœä½¿ç”¨)

# éœ€è¦æ›´æ–°çš„æ–‡ä»¶/ç›®å½•
# - templates/ (æ¨¡æ¿æ–‡ä»¶)
# - static/ (é™æ€æ–‡ä»¶)
# - users/ (ç”¨æˆ·ç®¡ç†)
# - documents/ (æ–‡æ¡£ç®¡ç†)
# - system/ (ç³»ç»Ÿç®¡ç†)
# - accounts/ (è´¦æˆ·ç®¡ç†)
# - teacher_doc_system/ (Djangoé…ç½®)
# - manage.py
# - requirements.txt
# - å¯åŠ¨è„šæœ¬ç­‰
```

### 4. è¿è¡Œæ•°æ®åº“è¿ç§»
```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd teacher_doc_system

# è¿è¡Œè¿ç§»
python manage.py migrate

# æ”¶é›†é™æ€æ–‡ä»¶
python manage.py collectstatic --noinput
```

### 5. å®‰è£…æ–°ä¾èµ–
```bash
# å®‰è£…æ–°çš„ä¾èµ–åŒ…
pip install -r requirements.txt
```

## ğŸ” æ›´æ–°åæ£€æŸ¥

### 1. å¯åŠ¨ç³»ç»Ÿ
```bash
# å¯åŠ¨æœåŠ¡å™¨
python start_lan.py
# æˆ–
python start_local.py
```

### 2. åŠŸèƒ½æµ‹è¯•
- [ ] ç®¡ç†å‘˜ç™»å½•
- [ ] ç”¨æˆ·ç®¡ç†åŠŸèƒ½
- [ ] æ–‡æ¡£ä¸Šä¼ ä¸‹è½½
- [ ] åˆ†äº«é“¾æ¥åŠŸèƒ½
- [ ] å¤‡ä»½æ¢å¤åŠŸèƒ½

### 3. æ•°æ®éªŒè¯
- [ ] ç”¨æˆ·æ•°æ®å®Œæ•´
- [ ] æ–‡æ¡£æ–‡ä»¶å®Œæ•´
- [ ] ç³»ç»Ÿé…ç½®æ­£ç¡®

## ğŸš¨ æ•…éšœæ¢å¤

### å¦‚æœæ›´æ–°å¤±è´¥
1. **åœæ­¢æœåŠ¡å™¨**
   ```bash
   python stop.py
   ```

2. **æ¢å¤å¤‡ä»½**
   ```bash
   # æ¢å¤æ•°æ®åº“
   mysql -u root -p teacher_doc_system < backup_YYYYMMDD_HHMMSS.sql
   
   # æ¢å¤åª’ä½“æ–‡ä»¶
   rm -rf media/user_files
   mv media/user_files_backup_YYYYMMDD_HHMMSS media/user_files
   ```

3. **é‡å¯ç³»ç»Ÿ**
   ```bash
   python start_lan.py
   ```

## ğŸ“ æ›´æ–°æ—¥å¿—

### è®°å½•æ›´æ–°ä¿¡æ¯
- æ›´æ–°æ—¥æœŸæ—¶é—´
- æ›´æ–°ç‰ˆæœ¬å·
- æ›´æ–°å†…å®¹æ‘˜è¦
- é‡åˆ°çš„é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ

### ç¤ºä¾‹æ›´æ–°æ—¥å¿—
```
æ›´æ–°æ—¥æœŸ: 2025-01-21 10:30:00
ç‰ˆæœ¬: v2.1.0
æ›´æ–°å†…å®¹:
- æ–°å¢æ–‡æ¡£ç‰ˆæœ¬æ§åˆ¶åŠŸèƒ½
- ä¼˜åŒ–ç”¨æˆ·ç•Œé¢
- ä¿®å¤åˆ†äº«é“¾æ¥bug
- æå‡ç³»ç»Ÿæ€§èƒ½

é—®é¢˜è®°å½•:
- æ•°æ®åº“è¿ç§»æ­£å¸¸
- é™æ€æ–‡ä»¶æ”¶é›†æˆåŠŸ
- åŠŸèƒ½æµ‹è¯•é€šè¿‡
```

## âš ï¸ æ³¨æ„äº‹é¡¹

### æ›´æ–°å‰
- ç¡®ä¿ç³»ç»Ÿå·²åœæ­¢è¿è¡Œ
- åˆ›å»ºå®Œæ•´å¤‡ä»½
- è®°å½•å½“å‰é…ç½®

### æ›´æ–°ä¸­
- ä¸è¦ä¸­æ–­æ›´æ–°è¿‡ç¨‹
- ç›‘æ§é”™è¯¯ä¿¡æ¯
- ä¿æŒç½‘ç»œè¿æ¥ç¨³å®š

### æ›´æ–°å
- ç«‹å³æµ‹è¯•æ ¸å¿ƒåŠŸèƒ½
- æ£€æŸ¥æ•°æ®å®Œæ•´æ€§
- æ›´æ–°æ–‡æ¡£å’Œè¯´æ˜

## ğŸ†˜ æŠ€æœ¯æ”¯æŒ

å¦‚æœé‡åˆ°é—®é¢˜ï¼š
1. æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶ï¼š`logs/django.log`
2. æ£€æŸ¥é”™è¯¯ä¿¡æ¯
3. å°è¯•æ¢å¤å¤‡ä»½
4. è”ç³»æŠ€æœ¯æ”¯æŒ

## ğŸ“ è”ç³»æ–¹å¼

- æŠ€æœ¯æ”¯æŒé‚®ç®±ï¼šsupport@example.com
- é¡¹ç›®æ–‡æ¡£ï¼šREADME.md
- é—®é¢˜åé¦ˆï¼šGitHub Issues
